
/***
 *
 * Copyright (C) 2009-2015 EV Power Ltd, Inc.
 *
 ***/

#include <libevpower/system.h> /* for VIF_SSID_FMT */

const char cmd_get_vpn_interface[] = "/bin/ls /sys/class/net/ | grep ppp'[0-9]' >&2";
const char cmd_broken_refcount[] = "dmesg | grep \"unregister_netdevice: waiting for.*to become free. Usage count\" | tr -d '[]' | awk '$12>0' |tail -n 1 >&2";
const char cmd_configd[] = "/sbin/configd %s";
const char cmd_connkeeper_checkin[] = "dashboard checkin";
const char cmd_connkeeper[] = "/etc/init.d/connkeeper %s >&2";
const char cmd_connkeeper_get[] = "curl -qs --connect-timeout %i http://%s:%s/router/listen/%s >&2";
const char cmd_connkeeper_get2file[] = "curl -qs --connect-timeout %1$i http://%2$s:%3$s/router/listen/%4$s > %5$s; echo >> %5$s";
const char cmd_connkeeper_reboot[] = "reboot -f";
const char cmd_connkeeper_trigger[] = "curl -qs 'http://dev-internal.cloudtrax.com/cgi-bin/connkeeper.py?mac=%s&info=GW_%s__FWV_ng%i.%i.%i-%s__CKV_%s' -o /dev/null";
const char cmd_crashlog_get_cmd[] = "awk -F ']' '/ Reboot event/ {printf $2}' /tmp/crashlog >&2";
const char cmd_dashboard[] = "dashboard %s";
const char cmd_decrypt_rep[] = "KEY='%s' decrypt -l %d -d | tr -d '\\r' > %s";
const char cmd_default_gw[] = "ip route | awk -F' ' '/default/ {printf(\"%s\", $3)}' >&2";
const char cmd_diff[] = "diff -a %s%s %s%s%s >&2";
const char cmd_dnsmasq[] = "/etc/init.d/dnsmasq %s >&2";
const char cmd_dropbear[] = "/etc/init.d/dropbear %s";
const char cmd_exec_script[] = "/bin/sh -c '%s %s'";
const char cmd_fwenv_check_upgrade[] = "fw_printenv ng_upgrade 2>/dev/null && echo UPGRADED >&2";
const char cmd_fwenv_clean_upgrade[] = "fw_setenv ng_upgrade";
const char cmd_fwenv_set_upgrade[] = "fw_setenv ng_upgrade 1";
const char cmd_get_curr_chan[] = "iw dev %s info | awk '/channel/ {printf(\"%%s\", $2)}' >&2";
const char cmd_get_dash_reply_v1[] = "curl -q --max-time 40 --connect-timeout 20 --retry 1 http://%s%s --header 'Host: %s' -X POST --data @%s -o %s > %s >&2";
const char cmd_get_dash_reply_v2[] = "curl --cacert /etc/dashboard/cacert.pem -q --max-time 40 --connect-timeout 20 --retry 1 %s://%s%s --header 'Host: %s' --header 'Content-Type:application/json' --header 'Api-Version:2' --header 'Config-Version:%s'%s -X POST --data @%s -o %s > %s >&2";
const char cmd_get_default_iface[] = "ip route | awk '/default/ {printf(\"%s\", $5)}' >&2";
const char cmd_get_default_ip[] = "ip route | awk '/default/ {print $3}' >&2";
const char cmd_get_default_ipmask[] = "ip addr show dev %s | awk '/inet / {printf(\"%%s\", $2)}' >&2";
const char cmd_get_default_rt[] = "ip route | grep 'default' >&2";
const char cmd_get_iface_ip[] = "ifconfig %s | awk '/inet / {split($2, a, \":\");print a[2]}' >&2";
const char cmd_get_part_size[] = "awk '/%s\\\"/ {printf(\"%%i\", \"0x\"$2)}' /proc/mtd >&2";
const char cmd_gw_rtt[] = "batctl p -T -c 5 %s 2>/dev/null | awk 'END {split($0, a, \"/\"); printf(\"%%s\", a[5])}' >&2";
const char cmd_gw_traceroute[] = "batctl tr -n -T %s 2>/dev/null | awk -F' ' '{if (NR > 1) {if (NR > 2) {printf(\",\")}; printf(\"%%s\", $2)}}' >&2";
const char cmd_http_file_dl[] = "curl -qs --connect-timeout 30 --retry 3 '%s%s%s' -o '%s%s'";
const char cmd_http_file_size[] = "curl --capath /etc/ssl/certs/ -qsI https://%s/%s%s%s | awk 'tolower($1) ~ /content-length/ {print $2}' >&2";
const char cmd_http_fw_dl[] = "curl -qs --connect-timeout 30 --retry 3 --capath /etc/ssl/certs/ 'https://%s/%s%s%s' -o '%s%s'";
const char cmd_http_post_file[] = "curl -q --max-time 40 --connect-timeout 20 --retry 1 http://%s%s -X POST --data @%s -o /dev/null > /dev/null";
const char cmd_iface_up_down[] = "ip link set %s%s%s %s >&2";
const char cmd_ifconfig_generic[] = "ifconfig %s %s";
const char cmd_ifconfig_ip[] = "ifconfig %s %s netmask %s >&2";
const char cmd_ifplugd[] = "/etc/init.d/ifplugd %s >&2";
const char cmd_ifplugstatus[] = "/etc/init.d/ifplugd plugged '%s' && echo 'unplugged' >&2";
const char cmd_inet_check_dns[] = "RESOLV_CONF=\"/tmp/resolv.conf.%s\" timeout -s INT -t 10 nslookup %s %s %s 2>&- |  awk '/Name:/{getline;printf(\"%%s\", $3)}' >&2";
const char cmd_inet_check_http[] = "curl -qs --connect-timeout 5 --retry 1 --interface %s -I http://%s%s -o /dev/null && return 1 || return 0";
const char cmd_inet_check_tr[] = "ok=0;eval $(traceroute -p %i -i %s -n -f 3 -w 5 -m 5 -s %s %s 2>&- | sed -ne '/^ \\+[0-9]\\+ \\+[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+ /{s/.*/ok=$(( $ok + 1));/;p}');[ $ok -ge 2 ] && return 1 || return 0";
const char cmd_ip6tables_alfred[] = "ip6tables -%1$s FORWARD -m physdev --physdev-is-bridged --physdev-out %2$s -p udp --dport 16962 -j DROP; ip6tables -%1$s OUTPUT -o %2$s -p udp --dport 16962 -j DROP";
const char cmd_ip_flush[] = "ip -f inet addr flush dev %s";
const char cmd_iptables_bcast[] = "iptables -%s FORWARD -m physdev --physdev-out %s --physdev-is-bridged -m pkttype --pkt-type broadcast -j DROP";
const char cmd_iptables_dnsblock[] = "iptables -%s INPUT -p udp --dport 53 -i %s -m physdev --physdev-in %s -j DROP";
const char cmd_iptables_lanblock[] = "iptables -%s FORWARD -m physdev ! --physdev-is-bridged -s %s/%s -d %d.%d.%d.%d/%d.%d.%d.%d -j DROP";
const char cmd_iptables_masq_check[] = "iptables -t nat -vnL POSTROUTING | grep 'MASQ.*%s' >&2";
const char cmd_iptables_masq[] = "iptables -t nat -%s POSTROUTING -o %s -m physdev ! --physdev-is-bridged -j MASQUERADE";
const char cmd_iptables_mcast[] = "iptables -%s FORWARD -m physdev --physdev-out %s --physdev-is-bridged -m pkttype --pkt-type multicast -j DROP";
const char cmd_iptables_untrack_drop[] = "iptables -%s FORWARD -o %s -m physdev ! --physdev-is-bridged -m conntrack --ctstate INVALID  -j DROP";
const char cmd_iptables_nds[] = "iptables -t %s -%s NDS_FW_NG 2>/dev/null";
const char cmd_iptables_nds_rule[] = "iptables -t %s -%s NDS_FW_NG -p %s -s %s/%s -d %s/%s -j %s";
const char cmd_iptables_smtpredirect[] = "iptables -t nat -%s PREROUTING -i %s -p tcp --dport 25 -j DNAT --to %s";
const char cmd_iptables_splash_redir[] = "iptables -t nat -%s PREROUTING -i %s -d %s/32 -p tcp --dport 80 -j REDIRECT --to-ports %d";
const char cmd_iptables_udpredirect[] = "iptables -t nat -%s PREROUTING -m pkttype --pkt-type unicast -i %s -p udp --dport %d -j REDIRECT --to-ports %d";
const char cmd_is_iface_up[] = "ip link show %s 2>&1 | grep -q 'can.t find device' && echo 'not up' >&2";
const char cmd_ledctl[] = "/sbin/ledctl %s %s";
const char cmd_line_count[] = "cat %s | wc -l >&2";
const char cmd_lock[] = "lock %s";
const char cmd_lock_wait[] = "lock -w %s";
const char cmd_logger_t[] = "logger -t %s %s";
const char cmd_md5_config_sec[] = "sed -n '/#@#config %s/,/#@#config/p' %s | sed '/config/d' | md5sum | awk '{print $1}' >&2";
const char cmd_md5_file[] = "md5sum %s | awk '{printf(\"%%s\", $1)}' >&2";
const char cmd_mem_avail[] = "awk '/MemFree/ {printf(\"%s\", $2)}' /proc/meminfo >&2";
const char cmd_memfree[] = "cat /proc/meminfo | awk '{if (NR == 1) memtot=$2; if ((NR == 2) && ($2 < memtot / 9)) printf(\"not enough mem\")}' >&2";
const char cmd_mem_total[] = "awk '/MemTotal/ {printf(\"%s\", $2)}' /proc/meminfo >&2";
const char cmd_mount_ramdisk[] = "mount tmpfs '%s' -t tmpfs -o size=%u,nosuid,nodev,mode=1777 >&2";
const char cmd_mount_ro[] = "for part in $(mount | awk '/type jffs2/ {print $3}'); do mount $part -o remount,ro >&2; done";
const char cmd_mount_sda1[] = "mount /dev/sda1 /mnt/umemory >&2";
const char cmd_mtd_erase_part[] = "mtd -q erase %s";
const char cmd_mtd_part[] = "mtd -q -j %s -e %s write %s%s %s";
const char cmd_mtd_part_om[] = "dd if=\"%s%s\" bs=1 skip=%u count=%u 2>&- | mtd -n -p %u %s%s write - %s >&2";
const char cmd_mv[] = "mv %s %s";
const char cmd_cp[] = "cp %s %s";
const char cmd_nslookup[] = "timeout -s INT -t 10 nslookup %s 2>/dev/null | awk '/Address 1/ {if (NR > 3) printf(\"%%s\", $3)}' >&2";
const char cmd_opkg_consistency_check[] = "pkgs='%s'; for pkg in $pkgs; do opkg files $pkg | awk '/\\// {if (system(\"test -e \" $1)) print $1}'; done >&2";
const char cmd_opkg_install[] = "OPKG_WGETOPTS=\"-t 2 -T 30\" opkg install %s %s >&2";
const char cmd_opkg_remove[] = "opkg remove -recursive %s >&2";
const char cmd_opkg_update[] = "OPKG_WGETOPTS=\"-t 2 -T 30\" opkg update >&2";
const char cmd_orphan_gen_key[] = "echo %s | md5sum | awk '{for (i=1;i<length($1); i+=3) {printf \"%%s\", substr($1,i,1)}}' >&2";
const char cmd_pgrep2[] = "pgrep -f '^%s.*%s' | grep -v $$ | wc -l >&2";
const char cmd_pgrep3[] = "pgrep -f '^%s.*%s.*%s' | grep -v $$ | wc -l >&2";
const char cmd_pgrep[] = "pgrep -f '%s' | grep -v $$ | wc -l >&2";
const char cmd_pkill[] = "pkill -f '%s' > /dev/null 2>&1";
const char cmd_prequestd[] = "/etc/init.d/prequestd %s";
const char cmd_prequestd_dump[] = "prequestd --create-statistics=%s";
const char cmd_reboot[] = "sync; /sbin/reboot -f";
const char cmd_rmdir[] = "rm -rf %s";
const char cmd_rm_files[] = "rm -f %s%s%s*";
const char cmd_sed_replace_s[] = "sed -i 's@%s@%s%s@g' %s";
const char cmd_sed_replace_ss[] = "sed -i 's@%s%s@%s%s@%s' %s >&2";
const char cmd_set_dfl_rt[] = "ifindex=%s; router=$(ip route show table $ifindex | awk '/default/ {print $3}'); ip route add default via $router dev %s";
const char cmd_set_rootpw[] = "(echo '%s' && sleep 1 && echo '%s') | passwd root >&2";
const char cmd_sysload_array[] = "awk '{printf(\"%s, %s, %s\", $1, $2, $3)}' /proc/loadavg >&2";
const char cmd_sysload[] = "uptime | awk -F'average:' '{gsub(/[ \\t]+/,\"\",$2);printf(\"%s\", $2)}' >&2";
const char cmd_tar_upgrade_files[] = "up=''; uf=$(sed -ne '/^[[:space:]]*$/d; /^#/d; p' /etc/sysupgrade.conf); [ -n \"$uf\" ] && up=$(find $uf); tar czf '%s' %s $up >&2";
const char cmd_tunnelit[] = "/sbin/tunnel %s >&2";
const char cmd_uci_batch_apply[] = "uci batch < %s >&2";
const char cmd_udhcpc_start[] = "iface=%s; CURR_IFNAME=\"%s\" nohup udhcpc -t 0 -i \"%s$iface\" %s -S -b -p \"/var/run/dhcp-${iface}.pid\" -R > \"/var/run/${iface}.nohup\" 2>&1 &";
const char cmd_uds_gw_ifaces_get[] = "%s --list-interfaces 2>/dev/null | awk '/(Gateway)/ {printf(\"%%s\", $2); exit}' >&2";
const char cmd_udshape_dump_dhcp[] = "/usr/sbin/udshape -b%s >&2";
const char cmd_udshape_dump_traffic[] = "/usr/sbin/udshape -c%s >&2";
const char cmd_uds_ssid_action[] = "%s --ssid ssid%d --%s %s >&2";
const char cmd_umount[] = "umount %s >&2";
const char cmd_underdogsplash[] = "/etc/init.d/underdogsplash %s >&2";
const char cmd_unlock[] = "lock -u %s";
const char cmd_uptime[] = "awk -F'.' '{printf(\"%id:%ih:%im\",$1/86400,($1%86400)/3600,(($1%86400)%3600)/60)}' /proc/uptime >&2";
const char cmd_uptime_secs[] = "awk -F'.' '{printf(\"%s\", $1)}' /proc/uptime >&2";
const char cmd_urlencode_file[] = "sed -f /usr/lib/urlencode.sed %s | tr -d '\\n' | sed 's/^/\\&report=/' > /tmp/urlencode.tmp; mv /tmp/urlencode.tmp %s";
const char cmd_valid_reply[] = "head -1 %s | grep '%s%s' >&2";
const char cmd_verify_md5[] = "f5=$(awk '{print $1}' %s%s); i5=$(md5sum %s%s | awk '{print $1}'); [ \"$f5\" = \"$i5\" ] && return 0 || return 1";
const char cmd_file_md5[] = "md5sum %s%s | awk '{print $1}' > %s";
const char cmd_verify_part_md5_om[] = "pdev='/dev/'$(awk -F':' '/%s\"/ {print $1}' /proc/mtd);size=%u;p5=$(dd if=$pdev bs=1 count=$size skip=%u 2>&- | md5sum);i5=$(dd if=%s%s bs=1 count=$size skip=%u 2>&- | md5sum);[ \"$p5\" = \"$i5\" ] && return 0 || return 1";
const char cmd_verify_part_md5[] = "pdev='/dev/'$(awk -F':' '/%s\"/ {print $1}' /proc/mtd);isize=$(ls -l %s%s | awk '{print ($5/65536) - 4}');p5=$(dd if=$pdev bs=65536 count=$isize 2>&- | md5sum);i5=$(dd if=%s%s bs=65536 count=$isize 2>&- | md5sum);[ \"$p5\" = \"$i5\" ] && return 0 || return 1";
const char cmd_wc_l[] = "cat %s | wc -l >&2";
const char cmd_wifi_ap_scan_mac80211[] = "iface=%s; iw $iface scan 2>/dev/null >&2; iw $iface scan | awk -f /usr/lib/mac80211_scan.awk >&2";
const char cmd_wifi_count_users_mac80211[] = "iw dev %s station dump | awk 'BEGIN{num_station=0} {if ($1==\"Station\") num_station++} END{printf(\"%%i\", num_station)}' >&2";
const char cmd_wifi_list_users_mac80211[] = "iw dev %s station dump | awk '{row=(NR %% 18); if (row == 1) {mac=$2;mcs=\"\";rate=\"\"}; if (row == 10) {signal=$3}; if (row==11) {rate=$3; if (NF > 5){mcs=$6};}; if(row == 0){printf(\"%%s,%%s,,%%s,%%i;\",mac,signal,mcs,rate)}}' >&2";
const char cmd_wpa_supp_ibss_rsn_conn[] = "p=/var/run/lonely_ibss_rsn.pid; i=%s; ctrl=%s; wpa_supplicant -B -P $p -D %s -i $i -c %s >/dev/null";
const char cmd_wpa_supp_ibss_rsn_kill[] = "kill $(cat /var/run/lonely_ibss_rsn.pid)";
const char cmd_wpa_supp_orphan_conn[] = "p=/var/run/lonely_orphan.pid; i=%s; ctrl=%s; wpa_supplicant -B -P $p -D %s -i $i -c %s >/dev/null; sleep 10s; wpa_cli -p $ctrl status | grep -q wpa_state=COMPLETED && res=0 || res=1; kill $(cat $p) 2>&-; return $res";
const char cmd_write_brctl[] = "brctl show >> %s 2>&1";
const char cmd_write_custom_sh[] = "ls /etc/custom_sh/ >> %s 2>&1";
const char cmd_write_dmesg[] = "dmesg >> %s 2>&1";
const char cmd_write_file[] = "cat %s >> %s 2>&1";
const char cmd_write_ip_link[] = "ip link >> %s 2>&1";
const char cmd_write_iw_dev[] = "iw dev >> %s 2>&1";
const char cmd_write_batctl_o[] = "batctl o >> %s 2>&1";
const char cmd_write_batctl_gwl[] = "batctl gwl >> %s 2>&1";
const char cmd_write_batctl_gw[] = "batctl gw >> %s 2>&1";
const char cmd_write_logread[] = "logread >> %s 2>&1";
const char cmd_write_msg[] = "echo -e \"%s\\n\" >> %s";
const char cmd_write_output_to_file[] = "%s %s > %s";
const char cmd_write_routes[] = "ip route >> %s 2>&1";
const char cmd_write_rules[] = "ip rule >> %s 2>&1";
const char cmd_write_top[] = "top -bn1 >> %s 2>&1";
const char cmd_write_wireless[] = "uci show wireless >> %s 2>&1";
const char cmd_wget_download[] = "wget -N -P %s %s/%s";
const char fmt_batman_iface[] = "/sys/class/net/%s%s/batman_adv/mesh_iface";
const char fmt_bridge_port[] = "/sys/class/net/%s/brport/bridge";
const char fmt_bridge_call_iptables[] = "/sys/class/net/br-%s/bridge/nf_call_iptables";
const char fmt_bridge_call_ip6tables[] = "/sys/class/net/br-%s/bridge/nf_call_ip6tables";
const char fmt_ssid_bridge_call_iptables[] = "/sys/class/net/br-ssid%d/bridge/nf_call_iptables";
const char fmt_ssid_bridge_call_ip6tables[] = "/sys/class/net/br-ssid%d/bridge/nf_call_ip6tables";
const char grep_jffs2_overlay[] = "[ -n \"$(mount | grep 'overlayfs:/overlay')\" ] && echo 'ready' >&2";
const char grep_tf_ext4[] = "mount | grep '/dev/sda1' && return 0 || return 1 ";
const char grep_sda1[] = "ls /dev/sda1 | grep 'sda1' && return 0 || return 1 ";
const char inet_test_iface_fmt[] = "%s-%s";
const char inet_test_lock[] = "inet_test";
const char init_udsnorkel[] = "/etc/init.d/udsnorkel";
const char path_power_bar[] = "/mnt/umemory/power_bar";
const char path_charging_record[] = "/mnt/umemory/power_bar/DATA/";
const char path_record_cache[] = "/mnt/umemory/power_bar/DATA/CACHE/";
const char path_record_backup[] = "/mnt/umemory/power_bar/backup/";
const char path_exception[] = "/mnt/umemory/power_bar/exception";
const char path_config[] = "/mnt/umemory/power_bar/CONFIG";
const char path_configbin[] = "/mnt/umemory/power_bar/CONFIG/bin";
const char path_update[] = "/mnt/umemory/power_bar/UPDATE";
const char path_record[] = "/mnt/umemory/power_bar/RECORD";
const char path_record_data[] = "/mnt/umemory/power_bar/RECORD/RECORD_DATA";
const char path_log[] = "/mnt/umemory/power_bar/log";
const char path_logbak[] = "/mnt/umemory/power_bar/logbak";
const char path_ies[] = "/mnt/umemory/power_bar/ies";
const char path_routerlog[] = "/mnt/umemory/power_bar/routerlog";
const char path_reboot_reason[] = "/etc/reboot_reason";
const char path_batctl_bin[] = "/usr/sbin/batctl";
const char path_bat_hosts[] = "/etc/bat-hosts";
const char path_udpserver_pid[] = "/tmp/udpserver.pid";
const char path_mosquitto_pid[] = "/var/run/mosquitto.pid";
const char path_mqtt_pid[] = "/var/run/mqtt.pid";
const char path_charger_pid[] = "/tmp/run/chargerTest_daemon.pid";
const char path_checkin_pid[] = "/tmp/checkin.pid";
const char path_dshbrd_controller_pid[] = "/tmp/dshbrd_controller.pid";
const char path_config_mesh_list[] = "/etc/config/mesh_node_list";
const char path_config_ssid_list[] = "/etc/config/ssid%d_node_list";
const char path_config_system[] = "/etc/config/system";
const char path_config_charger[] = "/etc/config/chargerinfo";
const char path_config_chrgr[] = "/etc/config/chrgrinfo";
const char path_cp_hosts[] = "/tmp/cp-hosts%d";
const char path_cpu_info[] = "/proc/cpuinfo";
const char path_crashlog[] = "/etc/dashboard/crashlog";
const char path_cron_5mins[] = "/etc/cron.5mins";
const char path_custom_sh[] = "/etc/custom_sh/";
const char path_fw_flags[] = "/etc/fw_flags/";
const char path_dashboard_cfg[] = "/etc/config/dashboard";
const char path_dhcp_watch_bin[] = "/sbin/dhcp_watch";
const char path_fw_env_config[] = "/etc/fw_env.config";
const char path_hosts[] = "/etc/hosts";
const char path_invalid_mesh_enc[] = "/tmp/invalid_mesh_enc";
const char path_kernel_hostname[] = "/proc/sys/kernel/hostname";
const char path_mac_filter[] = "/tmp/mac_filter_ssid%d";
const char path_mr1750_brightness_high[] = "/sys/class/leds/xqy_eg1000:green:status/brightness";
const char path_mr1750_brightness_low[] = "/sys/class/leds/xqy_eg1000:red:status/brightness";
const char path_mr1750_trigger_high[] = "/sys/class/leds/xqy_eg1000:green:status/trigger";
const char path_mr1750_trigger_low[] = "/sys/class/leds/xqy_eg1000:red:status/trigger";
const char path_mr600_brightness[] = "/sys/class/leds/mr600:blue:wps/brightness";
const char path_mr600_trigger[] = "/sys/class/leds/mr600:blue:wps/trigger";
const char path_mr900_brightness_high[] = "/sys/class/leds/mr900:green:status/brightness";
const char path_mr900_brightness_low[] = "/sys/class/leds/mr900:red:status/brightness";
const char path_mr900_trigger_high[] = "/sys/class/leds/mr900:green:status/trigger";
const char path_mr900_trigger_low[] = "/sys/class/leds/mr900:red:status/trigger";
const char path_netconfigd_pid[] = "/var/run/netconfigd.pid";
const char path_no_def_route[] = "/tmp/hc_no_def_route";
const char path_net_route[] = "/proc/net/route";
const char path_online_script_dir[] = "/etc/online.d";
const char path_orphan_list[] = "/tmp/orphan.list";
const char path_plug_event_bin[] = "/lib/netconfigd/ifplugd.script";
const char path_sensor_cpu[] = "/sys/class/hwmon/hwmon0/temp1_input";
const char path_tmp_health_care[] = "/tmp/.uci/health_care";
const char path_udshape_bin[] = "/usr/sbin/udshape";
const char path_uds_tmp_file[] = "/tmp/udshape";
const char path_node_tmp_file[] = "/tmp/mesh_node_list";
const char path_hostapd_pid_fmt[] = "/var/run/hostapd-phy%d.pid";
const char path_router_reboot_log[] = "/root/reboot.log";
const char path_dashboard_mqtt_log[] = "/tmp/mqtt.log";
const char str_netcfgd[] = "netconfigd";
const char str_instacom[] = "instacom";
const char str_parse_conf[] = "parse_config";
const char uci_addr_anyip_lan_exlist[] = "anyip.lan.excludenets";
const char uci_addr_anyip_main_accessif[] = "anyip.main.accessif";
const char uci_addr_anyip_main_exlist_splash[] = "anyip.main.excludenets_splash";
const char uci_addr_anyip_main_inlist_splash[] = "anyip.main.includenets_splash";
const char uci_addr_captive_portal[] = "node.setting.cp";
const char uci_addr_connkeeper_port[] = "connkeeper.cloudtrax.port";
const char uci_addr_connkeeper_server[] = "connkeeper.cloudtrax.server";
const char uci_addr_custom_script_md5[] = "node.setting.cs_md5";
const char uci_addr_custom_script_url[] = "node.setting.cs_url";
const char uci_addr_dhcp_dns_domain[] = "dhcp.@dnsmasq[0].domain";
const char uci_addr_dhcp_dns_local[] = "dhcp.@dnsmasq[0].local";
const char uci_addr_dhcp_leases_file[] = "dhcp.@dnsmasq[0].leasefile";
const char uci_addr_dhcp_mesh_ignore[] = "dhcp.meship.ignore";
const char uci_addr_dhcp_mesh_ip[] = "dhcp.meship.ipaddr";
const char uci_addr_dhcp_srv_resolv[] = "dhcp.@dnsmasq[0].resolvfile";
const char uci_addr_dhcp_ssid_iface[] = "dhcp.ssid%d.interface";
const char uci_addr_dhcp_ssid_ignore[] = "dhcp.ssid%d.ignore";
const char uci_addr_dhcp_ssid_ip[] = "dhcp.ssid%d.ipaddr";
const char uci_addr_dhcp_ssid_mask[] = "dhcp.ssid%d.netmask";
const char uci_addr_dhcp_ssid_start[] = "dhcp.ssid%d.start";
const char uci_addr_dhcp_ipset_sta_ssid[] = "dhcp.ipset_static.ssid";
const char uci_addr_dhcp_ipset_dyn_ssid[] = "dhcp.ipset_dynamic.ssid";
const char uci_addr_dns_alt_srv[] = "dhcp.conf.nameserver";
const char uci_addr_dns_hostsfile[] = "dhcp.conf.addnhosts";
const char uci_addr_dns_iface[] = "dhcp.conf.interface";
const char uci_addr_dns_sec_hostsfile[] = "dhcp.dns%d.addnhosts";
const char uci_addr_dns_secondary[] = "dhcp.dns%d";
const char uci_addr_dshbrd_checkin_interval[] = "dashboard.local.checkin_interval";
const char uci_addr_dshbrd_config_seqno[] = "dashboard.local.config_seqno";
const char uci_addr_dshbrd_ctrl_bin[] = "dashboard.controller.bin";
const char uci_addr_dshbrd_ctrl_pid[] = "dashboard.controller.pid";
const char uci_addr_dshbrd_health_log[] = "dashboard.local.health_log_path";
const char uci_addr_hostname[] = "system.@system[0].hostname";
const char uci_addr_inet_test_disable[] = "node.setting.no_inet_test";
const char uci_addr_maint_ip[] = "network.maint.ipaddr";
const char uci_addr_mesh_node_id[] = "mesh_node_list.@node[%i].id";
const char uci_addr_mesh_node_ipaddr[] = "mesh_node_list.@node[%i].ipaddr";
const char uci_addr_mesh_node_name[] = "mesh_node_list.@node[%i].name";
const char uci_addr_mesh_node_role[] = "mesh_node_list.@node[%i].role";
const char uci_addr_net_ifname[] = "network.%s.ifname";
const char uci_addr_net_ipaddr[] = "network.%s.ipaddr";
const char uci_addr_net_maint_ifname[] = "network.maint.ifname";
const char uci_addr_net_maint_ip[] = "network.maint.ipaddr";
const char uci_addr_net_maint_mask[] = "network.maint.netmask";
const char uci_addr_net_maint_proto[] = "network.maint.proto";
const char uci_addr_net_meship_auto[] = "network.meship.auto";
const char uci_addr_net_meship_ip[] = "network.meship.ipaddr";
const char uci_addr_net_meship_mask[] = "network.meship.netmask";
const char uci_addr_net_meship_proto[] = "network.meship.proto";
const char uci_addr_net_netmask[] = "network.%s.netmask";
const char uci_addr_net_ngtun_ifname[] = "network.ngtun.ifname";
const char uci_addr_net_ngtun_ip[] = "network.ngtun.ipaddr";
const char uci_addr_net_ngtun_mask[] = "network.ngtun.netmask";
const char uci_addr_net_ngtun_mtu[] = "network.ngtun.mtu";
const char uci_addr_net_ngtun_proto[] = "network.ngtun.proto";
const char uci_addr_net_orphan_ifname[] = "network.orphan.ifname";
const char uci_addr_net_proto[] = "network.%s.proto";
const char uci_addr_net_ssid_auto[] = "network.ssid%d.auto";
const char uci_addr_net_ssid_defroute[] = "network.ssid%d.defaultroute";
const char uci_addr_net_ssid_dns_port[] = "network.ssid%d.dns_port";
const char uci_addr_net_ssid_dns_redirect[] = "network.ssid%d.dns_redirect";
const char uci_addr_net_ssid_ifname[] = "network.ssid%d.ifname";
const char uci_addr_net_ssid_ip[] = "network.ssid%d.ipaddr";
const char uci_addr_net_ssid_lanblock[] = "network.ssid%d.lan_block";
const char uci_addr_net_ssid_macaddr[] = "network.ssid%d.macaddr";
const char uci_addr_net_ssid_mask[] = "network.ssid%d.netmask";
const char uci_addr_net_ssid_proto[] = "network.ssid%d.proto";
const char uci_addr_net_ssid_smtp_redirect[] = "network.ssid%d.smtp_redirect";
const char uci_addr_net_ssid_type[] = "network.ssid%d.type";
const char uci_addr_net_ssid_dnssect[] = "network.ssid%d.dns_sect";
const char uci_addr_net_wired_client[] = "network.%s.wired_clients";
const char uci_addr_network_def_ip4table[] = "network.%s.def_ip4table";
const char uci_addr_network_ifname[] = "network.%s.ifname";
const char uci_addr_network_ip[] = "network.%s.ipaddr";
const char uci_addr_network_mask[] = "network.%s.netmask";
const char uci_addr_network_mesh[] = "network.%s.mesh";
const char uci_addr_network_plug_event[] = "network.%s.plug_event";
const char uci_addr_network_poss_lan[] = "network.%s.possible_lan";
const char uci_addr_network_proto[] = "network.%s.proto";
const char uci_addr_network_type[] = "network.%s.type";
const char uci_addr_network_vlan_auto[] = "network.%svlan%d.auto";
const char uci_addr_network_wired_client[] = "network.%s.wired_clients";
const char uci_addr_node_mac[] = "%s.@node[%i].mac";
const char uci_addr_node_reboot_token[] = "node.setting.reboot_token";
const char uci_addr_node_security_console[] = "node.security.allow_console";
const char uci_addr_node_security_key[] = "node.security.key";
const char uci_addr_presence_enable[] = "prequestd.prequestd.enabled";
const char uci_addr_presence_interface_list[] = "prequestd.prequestd.interface";
const char uci_addr_presence_uploads_per_checkin[] = "prequestd.prequestd.uploads_per_checkin";
const char uci_addr_radio0_channel[] = "wireless.radio0.channel";
const char uci_addr_radio0_disabled[] = "wireless.radio0.disabled";
const char uci_addr_radio0_country[] = "wireless.radio0.country";
const char uci_addr_radio0_ht_mode[] = "wireless.radio0.htmode";
const char uci_addr_radio0_rtscts[] = "wireless.radio0.rts";
const char uci_addr_radio0_txpower[] = "wireless.radio0.txpower";
const char uci_addr_radio1_channel[] = "wireless.radio1.channel";
const char uci_addr_radio1_disabled[] = "wireless.radio1.disabled";
const char uci_addr_radio1_ht_mode[] = "wireless.radio1.htmode";
const char uci_addr_radio1_rtscts[] = "wireless.radio1.rts";
const char uci_addr_radio1_txpower[] = "wireless.radio1.txpower";
const char uci_addr_site_url[] = "%s.%s.url";
const char uci_addr_status_hw[] = "node.status.hw";
const char uci_addr_status_inet[] = "node.status.inet_check";
const char uci_addr_status_mode[] = "node.status.mode";
const char uci_addr_status_network[] = "node.status.network";
const char uci_addr_status_node_id[] = "node.status.node_id";
const char uci_addr_status_reboot[] = "node.status.reboot_reason";
const char uci_addr_status_serv[] = "node.status.services";
const char uci_addr_status_vlan_allowed[] = "node.status.vlan_allowed";
const char uci_addr_udshape_l7matching_disabled[] = "udshape.general.matching_disabled";
const char uci_addr_udshape_l7accounting_disabled[] = "udshape.general.accounting_disabled";
const char uci_addr_udshape_isolate[] = "udshape.ssid%d.isolate";
const char uci_addr_udshape_shaping[] = "udshape.ssid%d.shaping";
const char uci_addr_udshape_ssid_accessif[] = "udshape.ssid%d.accessif";
const char uci_addr_udshape_traffic_ssid[] = "udshape.ssid%d.traffic";
const char uci_addr_udsnorkel_disabled[] = "udsnorkel.general.disabled";
const char uci_addr_udsnorkel_port[] = "udsnorkel.general.port";
const char uci_addr_udsnorkel_server[] = "udsnorkel.general.server";
const char uci_addr_udsplash_simulate[] = "udsplash.ssid%d.splashcheck_simulate";
const char uci_addr_udsplash_ssid_accessif[] = "udsplash.ssid%d.accessif";
const char uci_addr_uds_ssid1_accessif[] = "udshape.ssid1.accessif";
const char uci_addr_uds_ssid2_accessif[] = "udshape.ssid2.accessif";
const char uci_addr_upgrade_go[] = "node.upgrade.go";
const char uci_addr_upgrade_host[] = "node.upgrade.host";
const char uci_addr_upgrade_img_dir[] = "node.upgrade.image_dir";
const char uci_addr_upgrade_md5_file[] = "node.upgrade.md5_file";
const char uci_addr_upgrade_ready[] = "node.upgrade.ready";
const char uci_addr_upgrade_url[] = "node.upgrade.url";
const char uci_addr_upgrade_ver_file[] = "node.upgrade.ver_file";
const char uci_addr_upgrade_ver[] = "node.upgrade.ver";
const char uci_addr_vlan_maint_brif[] = "vlan.maint.brif";
const char uci_addr_vlan_maint_clbr[] = "vlan.maint.client_br";
const char uci_addr_vlan_maint_device[] = "vlan.maint.device";
const char uci_addr_vlan_maint_lanbr[] = "vlan.maint.lan_br";
const char uci_addr_vlan_maint_vid[] = "vlan.maint.vid";
const char uci_addr_vlan_ssid_brif[] = "vlan.ssid%d.brif";
const char uci_addr_vlan_ssid_clbr[] = "vlan.ssid%d.client_br";
const char uci_addr_vlan_ssid_device[] = "vlan.ssid%d.device";
const char uci_addr_vlan_ssid_lanbr[] = "vlan.ssid%d.lan_br";
const char uci_addr_vlan_ssid_lanid[] = "vlan.ssid%d.lan_id";
const char uci_addr_vlan_ssid_vid[] = "vlan.ssid%d.vid";
const char uci_addr_wifi0_channel[] = "wireless.wifi0.channel";
const char uci_addr_wifi_ap_disabled[] = "wireless." VIF_SSID_FMT ".disabled";
const char uci_addr_wifi_ap_enc[] = "wireless." VIF_SSID_FMT ".encryption";
const char uci_addr_wifi_ap_essid[] = "wireless." VIF_SSID_FMT ".ssid";
const char uci_addr_wifi_ap_hidden[] = "wireless." VIF_SSID_FMT ".hidden";
const char uci_addr_wifi_ap_ifname[] = "wireless." VIF_SSID_FMT ".ifname";
const char uci_addr_wifi_ap_isolate[] = "wireless." VIF_SSID_FMT ".isolate";
const char uci_addr_wifi_ap_key[] = "wireless." VIF_SSID_FMT ".key";
const char uci_addr_wifi_ap_rad_prt[] = "wireless." VIF_SSID_FMT ".port";
const char uci_addr_wifi_ap_rad_srv[] = "wireless." VIF_SSID_FMT ".server";
const char uci_addr_wifi_ap_remote_key[] = "wireless." VIF_SSID_FMT ".ft_remote_key";
const char uci_addr_wifi_ap_mobility_domain[] = "wireless." VIF_SSID_FMT ".mobility_domain";
const char uci_addr_wifi_ap_80211r[] = "wireless." VIF_SSID_FMT ".ieee80211r";
const char uci_addr_wifi_ap_rad_acct_server[] = "wireless." VIF_SSID_FMT ".rad_acct_server";
const char uci_addr_wifi_ap_rad_acct_key[] = "wireless." VIF_SSID_FMT ".rad_acct_key";
const char uci_addr_wifi_ap_rad_acct_port[] = "wireless." VIF_SSID_FMT ".rad_acct_port";
const char uci_addr_wifi_mesh0_bssid[] = "wireless.wmesh0.bssid";
const char uci_addr_wifi_mesh0_disabled[] = "wireless.wmesh0.disabled";
const char uci_addr_wifi_mesh0_enc[] = "wireless.wmesh0.encryption";
const char uci_addr_wifi_mesh0_essid[] = "wireless.wmesh0.ssid";
const char uci_addr_wifi_mesh0_ifname[] = "wireless.wmesh0.ifname";
const char uci_addr_wifi_mesh0_key[] = "wireless.wmesh0.key";
const char uci_addr_wifi_mesh0_ssid[] = "wireless.wmesh0.ssid";
const char uci_addr_wifi_mesh1_bssid[] = "wireless.wmesh1.bssid";
const char uci_addr_wifi_mesh1_disabled[] = "wireless.wmesh1.disabled";
const char uci_addr_wifi_mesh1_enc[] = "wireless.wmesh1.encryption";
const char uci_addr_wifi_mesh1_essid[] = "wireless.wmesh1.ssid";
const char uci_addr_wifi_mesh1_ifname[] = "wireless.wmesh1.ifname";
const char uci_addr_wifi_mesh1_key[] = "wireless.wmesh1.key";
const char uci_addr_wifi_mesh1_ssid[] = "wireless.wmesh1.ssid";
const char uci_addr_wifi_network[] = "wireless.%s.network";
const char uci_conf_mesh_list[] = "mesh_node_list";
const char uci_conf_ssid_list[] = "ssid%d_node_list";
const char uci_sec_node[] = "node";
const char uci_sec_site[] = "site";
const char uci_val_addbr[] = "addbr";
const char uci_val_addif[] = "addif";
const char uci_val_auth_immediately[] = "authenticate_immediately";
const char uci_val_auto[] = "auto";
const char uci_val_bridge[] = "bridge";
const char uci_val_brif[] = "brif";
const char uci_val_check[] = "check";
const char uci_val_clientbr[] = "client_br";
const char uci_val_client[] = "client";
const char uci_val_cp_udhcpc_bin[] = "udhcpc";
const char uci_val_cp_underdog[] = "UnderDog";
const char uci_val_def_ip4table[] = "def_ip4table";
const char uci_val_delbr[] = "delbr";
const char uci_val_delif[] = "delif";
const char uci_val_device[] = "device";
const char uci_val_dhcp[] = "dhcp";
const char uci_val_disabled[] = "disabled";
const char uci_val_disable[] = "disable";
const char uci_val_enabled[] = "enabled";
const char uci_val_enable[] = "enable";
const char uci_val_gateway[] = "gateway";
const char uci_val_gw_mode[] = "gw_mode";
const char uci_val_hardware[] = "hardware";
const char uci_val_health_care[] = "health_care";
const char uci_val_heat_logic[] = "heat_logic";
const char uci_val_iface_brmesh[] = "br-meship";
const char uci_val_iface_brssid[] = "br-ssid%d";
const char uci_val_ifname[] = "ifname";
const char uci_val_ignore[] = "ignore";
const char uci_val_interface[] = "interface";
/* 电桩uci文件通用部分 */
const char uci_val_chrgr[] = "chrgr";
const char uci_val_mac[] = "mac";
const char uci_val_model[] = "model";
const char uci_val_ip[] = "ip";
const char uci_val_keyb[] = "keyb";
const char uci_val_type[] =  "type";	//type differ fast and slow
const char uci_val_prover[] = "prover";	//proversion
const char uci_val_serial[] = "serial";
const char uci_val_maxcurrent[] = "maxcurrent";
const char uci_val_fwname[] = "fwname";
const char uci_val_status[] = "status";	//presentmode
const char uci_val_parking[] = "parking";
const char uci_val_soc[] = "soc";
const char uci_val_tilltime[] = "tilltime";
const char uci_val_outcurrent[] = "outcurrent";
const char uci_val_outvoltage[] = "outvoltage";
const char uci_val_chargingway[] = "chargingway";
const char uci_val_cycleid[] = "cycleid";
const char uci_val_power[] = "power";
const char uci_val_packageid[] = "packageid";
const char uci_val_duration[] = "duration";
const char uci_val_uninum[] = "uninum";
const char uci_val_accpower[] = "accpower";
const char uci_val_privateid[] = "uid";		//uid
/* 1.9电桩uci文件特有 */
const char uci_val_digitalinput[] = "digitalinput";
const char uci_val_digitaloutput[] = "digitaloutput";
const char uci_val_submode[] = "submode";
/* 2.0电桩uci文件特有 */
const char uci_val_cnntmode[] = "cnntmode";
const char uci_val_fault[] = "fault";
const char uci_val_cputemp[] = "cputemp";
const char uci_val_cptemp[] = "cptemp";
const char uci_val_liveltem[] = "liveltem";
const char uci_val_cpadc[] = "cpadc";
/*************************/
const char uci_val_ip4table[] = "ip4table";
const char uci_val_ipaddr[] = "ipaddr";
const char uci_val_lanbr[] = "lan_br";
const char uci_val_lanid[] = "lan_id";
const char uci_val_lan_ifname[] = "br-lan";
const char uci_val_macaddr[] = "macaddr";
const char uci_val_meship[] = "meship";
const char uci_val_mesh_list[] = "mesh_node_list";
const char uci_val_mode[] = "mode";
const char uci_val_mtu[] = "mtu";
const char uci_val_name[] = "name";
const char uci_val_netmask[] = "netmask";
const char uci_val_network[] = "network";
const char uci_val_evpower[] = "evpower";
const char uci_val_general[] = "general";
const char uci_val_networkstatus[] = "networkstatus";
const char uci_val_routerid[] = "routerid";
const char uci_val_chargerinfo[] = "chargerinfo";
const char uci_val_chrgrinfo[] = "chrgrinfo";
const char uci_val_node[] = "node";
const char uci_val_nohuprun[] = "nohup_run";
const char uci_val_none[] = "none";
const char uci_val_off[] = "off";
const char uci_val_orphan[] = "orphan";
const char uci_val_plugevent[] = "plug_event";
const char uci_val_poss_lan[] = "possible_lan";
const char uci_val_proto[] = "proto";
const char uci_val_radio0[] = "radio0";
const char uci_val_radio1[] = "radio1";
const char uci_val_repeater[] = "repeater";
const char uci_val_reset[] = "reset";
const char uci_val_restart[] = "restart";
const char uci_val_run[] = "run";
const char uci_val_server[] = "server";
const char uci_val_site[] = "site";
const char uci_val_ssid1[] = "ssid1";
const char uci_val_ssid2[] = "ssid2";
const char uci_val_ssid_list[] = "ssid%d_node_list";
const char uci_val_ssid[] = "ssid";
const char uci_val_start[] = "start";
const char uci_val_static[] = "static";
const char uci_val_stop[] = "stop";
const char uci_val_reload[] = "reload";
const char uci_val_temp_thr[] = "temp_threshold";
const char uci_val_uds_access_add[] = "add-accessif";
const char uci_val_uds_access_del[] = "delete-accessif";
const char uci_val_uds_br_update[] = "bridge-update";
const char uci_val_uds_gw_add[] = "add-gatewayif";
const char uci_val_uds_gw_del[] = "delete-gatewayif";
const char uci_val_udshape[] = "udshape";
const char uci_val_udsplash[] = "udsplash";
const char uci_val_url[] = "url";
const char uci_val_verify[] = "verify";
const char uci_val_vid[] = "vid";
const char uci_val_vlan_iface[] = "vlan-iface";
const char uci_val_vlan[] = "vlan";
const char uci_val_warn[] = "warn";
const char uci_val_wifi_ap[] = "ap";
const char uci_val_wifi_iface[] = "wifi-iface";
const char uci_val_wifi_station[] = "sta";
const char uci_val_wired_clients[] = "wired_clients";
const char uci_val_wireless[] = "wireless";
const char path_crashlog_debugfs[] = "/sys/kernel/debug/crashlog";
const char path_crashlog_tmpfs[] = "/tmp/crashlog";
const char path_udisk[] = "/mnt/umemory";
const char path_xl2tpd[] = "/etc/xl2tpd/xl2tpd.conf";
const char path_strongswan[] = "/etc/strongswan.conf";
const char path_ipsec_conf[] = "/etc/ipsec.conf";
const char path_ipsec_key[] = "/etc/ipsec.secrets";
const char path_ppp[] = "/etc/ppp/hk.options.xl2tpd.client";
const char path_3gmodem[] = "/tmp/operator";
const char path_fw_version[] = "/etc/Router_version";
const char msg_no_pipe[] = "can't create pipes";
const char msg_no_child[] = "can't create check_health() child process";
const char msg_check_hangs[] = "HealthCare command is hanging";

/*dashboard文件使用*/
const char cmd_get_pid[] = "ps -w | grep -w '%s'|grep -v 'grep'";
const char cmd_get_pid_num[] = "ps -w | grep -w '%s'|grep -v 'grep'|wc -l";
const char cmd_get_ps_stat[] = "ps -w | grep -w '%s'|grep -v 'grep'|awk '{print $4}'";
const char cmd_initd_restart[] = "/etc/init.d/%s stop;/etc/init.d/%s start;";
const char cmd_get_sd_dev[] = "cat /sys/block/sd*/sd*1/uevent | grep DEVNAME | awk -F'=' 'FNR==1{print $2}'";
const char cmd_mount_dev[] = "mount /dev/%s /mnt/umemory";
const char cmd_umount_dev[] = "umount -l /mnt/umemory";
const char cmd_is_mount[] = "df | grep %s";
const char cmd_is_readonly[] = "mount | grep '/dev/%s' | grep '(ro,'";
const char cmd_flash_check[] = "df | grep '/mnt/umemory' || { [ `df | grep '/overlay$' | awk -F'[% ]+' '{print $5}'` -gt 85 ] && rm -rf /mnt/umemory/*; }";
const char cmd_4G_ismount[] = "ifconfig | grep wwan | wc -l";
const char cmd_ping_serv[] = "ping vpn.e-chong.com -c 1 -W 3";
const char cmd_ping_baidu[] = "ping baidu.com -c 1 -W 3";
const char cmd_get_mq_size[] = "grep -w  %s /etc/init.d/evpower | awk '{print $6}'";
const char reboot_log[] = "system need reboot----usbErrTotal=%d---netErrTotal=%d---majorPerr=%d---minorPerr=%d---systemErrTotal=%d---hanging_num=%d\n";
