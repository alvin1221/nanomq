Performing C SOURCE FILE Test CMAKE_HAVE_LIBC_PTHREAD failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_1a8a9 && [1/2] Building C object CMakeFiles/cmTC_1a8a9.dir/src.c.o
[2/2] Linking C executable cmTC_1a8a9
FAILED: cmTC_1a8a9 
: && /usr/bin/cc -Wall -Wextra -fno-omit-frame-pointer   -DCMAKE_HAVE_LIBC_PTHREAD   CMakeFiles/cmTC_1a8a9.dir/src.c.o  -o cmTC_1a8a9   && :
CMakeFiles/cmTC_1a8a9.dir/src.c.o: In function `main':
src.c:(.text+0x3c): undefined reference to `pthread_create'
src.c:(.text+0x48): undefined reference to `pthread_detach'
src.c:(.text+0x54): undefined reference to `pthread_cancel'
src.c:(.text+0x65): undefined reference to `pthread_join'
src.c:(.text+0x79): undefined reference to `pthread_atfork'
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.


Source file was:
#include <pthread.h>

void* test_func(void* data)
{
  return data;
}

int main(void)
{
  pthread_t thread;
  pthread_create(&thread, NULL, test_func, NULL);
  pthread_detach(thread);
  pthread_cancel(thread);
  pthread_join(thread, NULL);
  pthread_atfork(NULL, NULL, NULL);
  pthread_exit(NULL);

  return 0;
}

Determining if the function pthread_create exists in the pthreads failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_e165c && [1/2] Building C object CMakeFiles/cmTC_e165c.dir/CheckFunctionExists.c.o
[2/2] Linking C executable cmTC_e165c
FAILED: cmTC_e165c 
: && /usr/bin/cc -Wall -Wextra -fno-omit-frame-pointer   -DCHECK_FUNCTION_EXISTS=pthread_create   CMakeFiles/cmTC_e165c.dir/CheckFunctionExists.c.o  -o cmTC_e165c  -lpthreads && :
/usr/bin/ld: cannot find -lpthreads
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.



Determining if the function getrandom exists failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_6c95a && [1/2] Building C object CMakeFiles/cmTC_6c95a.dir/CheckFunctionExists.c.o
[2/2] Linking C executable cmTC_6c95a
FAILED: cmTC_6c95a 
: && /usr/bin/cc -Wall -Wextra -fno-omit-frame-pointer   -DCHECK_FUNCTION_EXISTS=getrandom   CMakeFiles/cmTC_6c95a.dir/CheckFunctionExists.c.o  -o cmTC_6c95a   && :
CMakeFiles/cmTC_6c95a.dir/CheckFunctionExists.c.o: In function `main':
CheckFunctionExists.c:(.text+0x10): undefined reference to `getrandom'
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.



Determining if the function arc4random_buf exists failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_5db3c && [1/2] Building C object CMakeFiles/cmTC_5db3c.dir/CheckFunctionExists.c.o
[2/2] Linking C executable cmTC_5db3c
FAILED: cmTC_5db3c 
: && /usr/bin/cc -Wall -Wextra -fno-omit-frame-pointer   -DCHECK_FUNCTION_EXISTS=arc4random_buf   CMakeFiles/cmTC_5db3c.dir/CheckFunctionExists.c.o  -o cmTC_5db3c   && :
CMakeFiles/cmTC_5db3c.dir/CheckFunctionExists.c.o: In function `main':
CheckFunctionExists.c:(.text+0x10): undefined reference to `arc4random_buf'
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.



Determining if the function socket exists in the socket failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_02618 && [1/2] Building C object CMakeFiles/cmTC_02618.dir/CheckFunctionExists.c.o
[2/2] Linking C executable cmTC_02618
FAILED: cmTC_02618 
: && /usr/bin/cc -Wall -Wextra -fno-omit-frame-pointer   -DCHECK_FUNCTION_EXISTS=socket   CMakeFiles/cmTC_02618.dir/CheckFunctionExists.c.o  -o cmTC_02618  -lsocket && :
/usr/bin/ld: cannot find -lsocket
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.



Determining if the kqueue exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_0d25c && [1/2] Building C object CMakeFiles/cmTC_0d25c.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_0d25c.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_0d25c.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c:2:10: fatal error: sys/event.h: No such file or directory
    2 | #include <sys/event.h>
      |          ^~~~~~~~~~~~~
compilation terminated.
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <sys/event.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef kqueue
  return ((int*)(&kqueue))[argc];
#else
  (void)argc;
  return 0;
#endif
}
Determining if the port_create exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_24416 && [1/2] Building C object CMakeFiles/cmTC_24416.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_24416.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_24416.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c:2:10: fatal error: port.h: No such file or directory
    2 | #include <port.h>
      |          ^~~~~~~~
compilation terminated.
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <port.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef port_create
  return ((int*)(&port_create))[argc];
#else
  (void)argc;
  return 0;
#endif
}
Determining if the getpeereid exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_0291f && [1/2] Building C object CMakeFiles/cmTC_0291f.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_0291f.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_0291f.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c: In function ‘main’:
CheckSymbolExists.c:8:19: error: ‘getpeereid’ undeclared (first use in this function); did you mean ‘getegid’?
    8 |   return ((int*)(&getpeereid))[argc];
      |                   ^~~~~~~~~~
      |                   getegid
CheckSymbolExists.c:8:19: note: each undeclared identifier is reported only once for each function it appears in
CheckSymbolExists.c:4:14: warning: parameter ‘argc’ set but not used [-Wunused-but-set-parameter]
    4 | int main(int argc, char** argv)
      |          ~~~~^~~~
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <unistd.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef getpeereid
  return ((int*)(&getpeereid))[argc];
#else
  (void)argc;
  return 0;
#endif
}
Performing C SOURCE FILE Test NNG_HAVE_SOCKPEERCRED failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_17813 && [1/2] Building C object CMakeFiles/cmTC_17813.dir/src.c.o
FAILED: CMakeFiles/cmTC_17813.dir/src.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer   -DNNG_HAVE_SOCKPEERCRED   -std=gnu99 -o CMakeFiles/cmTC_17813.dir/src.c.o   -c src.c
src.c: In function ‘main’:
src.c:6:42: error: dereferencing pointer to incomplete type ‘struct sockpeercred’
    6 |   (void)sizeof(((struct sockpeercred *)0)->uid);
      |                                          ^~
ninja: build stopped: subcommand failed.


Source file was:

#include <sys/socket.h>

int main()
{
  (void)sizeof(((struct sockpeercred *)0)->uid);
  return 0;
}

Determining if the LOCAL_PEERCRED exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_c1809 && [1/2] Building C object CMakeFiles/cmTC_c1809.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_c1809.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_c1809.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c: In function ‘main’:
CheckSymbolExists.c:8:19: error: ‘LOCAL_PEERCRED’ undeclared (first use in this function)
    8 |   return ((int*)(&LOCAL_PEERCRED))[argc];
      |                   ^~~~~~~~~~~~~~
CheckSymbolExists.c:8:19: note: each undeclared identifier is reported only once for each function it appears in
CheckSymbolExists.c:4:14: warning: parameter ‘argc’ set but not used [-Wunused-but-set-parameter]
    4 | int main(int argc, char** argv)
      |          ~~~~^~~~
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <sys/un.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef LOCAL_PEERCRED
  return ((int*)(&LOCAL_PEERCRED))[argc];
#else
  (void)argc;
  return 0;
#endif
}
Determining if the getpeerucred exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_672db && [1/2] Building C object CMakeFiles/cmTC_672db.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_672db.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_672db.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c:2:10: fatal error: ucred.h: No such file or directory
    2 | #include <ucred.h>
      |          ^~~~~~~~~
compilation terminated.
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <ucred.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef getpeerucred
  return ((int*)(&getpeerucred))[argc];
#else
  (void)argc;
  return 0;
#endif
}
Determining if the strlcpy exist failed with the following output:
Change Dir: /projects/nanomq/build/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/ninja cmTC_1dd74 && [1/2] Building C object CMakeFiles/cmTC_1dd74.dir/CheckSymbolExists.c.o
FAILED: CMakeFiles/cmTC_1dd74.dir/CheckSymbolExists.c.o 
/usr/bin/cc   -Wall -Wextra -fno-omit-frame-pointer      -std=gnu99 -o CMakeFiles/cmTC_1dd74.dir/CheckSymbolExists.c.o   -c CheckSymbolExists.c
CheckSymbolExists.c: In function ‘main’:
CheckSymbolExists.c:8:19: error: ‘strlcpy’ undeclared (first use in this function); did you mean ‘strncpy’?
    8 |   return ((int*)(&strlcpy))[argc];
      |                   ^~~~~~~
      |                   strncpy
CheckSymbolExists.c:8:19: note: each undeclared identifier is reported only once for each function it appears in
CheckSymbolExists.c:4:14: warning: parameter ‘argc’ set but not used [-Wunused-but-set-parameter]
    4 | int main(int argc, char** argv)
      |          ~~~~^~~~
ninja: build stopped: subcommand failed.


File /projects/nanomq/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:
/* */
#include <string.h>

int main(int argc, char** argv)
{
  (void)argv;
#ifndef strlcpy
  return ((int*)(&strlcpy))[argc];
#else
  (void)argc;
  return 0;
#endif
}
